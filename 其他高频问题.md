
## 说说对设计模式的理解？常见的设计模式有哪些？
在软件工程中，设计模式是对软件设计中普遍存在的各种问题所提出的解决方案。
常见的设计模式有：
- 单例模式：保证一个类仅有一个实例，并提供一个访问它的全局访问点
- 工厂模式：提供了一种将对象的实例化过程封装在工厂类中的方式，将对象的创建与使用代码分离，提供一种统一的接口来创建不同类型的对象。
- 策略模式：一个类的行为或其算法可以在运行时更改
- 代理模式：为对象提供一个代用品或占位符，以便控制对它的访问
- 原型模式：用于创建重复的对象，同时又能保证性能
- 装饰者模式：在不改变对象自身的基础上，在程序运行期间给对象动态地添加方法
- 观察者模式: 事件监听

## 首屏性能优化
1. 资源加载优化
  - 减少资源大小：代码压缩、开启GZip、图片压缩、代码拆分避免chunk过大
  - 减少HTTP请求次数：HTTP强缓存、Service worker、雪碧图
  - 提高HTTP响应速度：CDN、HTTP协商缓存、DNS Prefetch、HTTP2
  - 优化加载时机：按需加载、懒加载、预加载（preload/prefetch）
  - 优化资源加载方式：客户端H5可采用离线包、ssr
  - 其他：loading、骨架屏
2. 页面渲染优化
  - 优化HTML结构：js放底部、css放头部、尽量减少dom数量
  - 优化js、css代码： 异步复杂任务使用webworker、减少重绘重排、降低css选择器复杂性
  - 优化动画效果： requestAnimationFrame、transform3D开启GPU加速

## 网络七层模型
- 应用层: HTTP FTP
- 表示层: Telnet
- 会话层: SMTP
- 传输层：TCP UDP
- 网络层: IP
- 数据链路层: Ethernet（以太网）
- 物理层：IEEE 802.1A IEEE 802.2 到 IEEE 802.11


## 浏览器输入url到页面展示的过程
1. 浏览器进行url解析，得到域名、请求路径、文件名等，生成http请求消息
2. DNS解析，查询服务器域名对应的 IP 地址，浏览器缓存->操作系统缓存->host文件->本地DNS服务器
3. 请求前会进行缓存判断，HTTP强缓存优先，有缓存直接从本地磁盘返回，缓存失效后请求上加If-Modified-Since/If-None-Match
4. TCP 传输数据之前，要先三次握手建立连接，https还要加上TSL握手
5. 服务器接收请求并返回HTTP响应内容，HTTP2还会主动推送一些相关的js、css
6. 浏览器接收HTTP响应并解析HTML内容，构建dom树。
7. 解析HTML文档时遇到外部资源链接(js/css/图片)，浏览器会发送额外的HTTP请求，以获取这些资源。
8. 当浏览器接收到CSS、JS等资源后，会对这些资源进行解析和执行。CSS用于设置页面样式，JS用于实现页面交互。浏览器会根据CSS和JS的内容更新DOM树。
9. 浏览器根据DOM树和CSS样式计算得到渲染树（Render Tree）。渲染树包括了页面上可见的所有元素及其样式。
10. 浏览器根据渲染树进行布局（Layout），计算每个元素在页面上的位置和大小。
11. 浏览器根据布局结果进行绘制（Painting），将每个元素绘制到屏幕上，形成最终的页面视图。此时，用户可以看到并与页面进行交互。

## XSS和CSRF
- XSS攻击： 跨站脚本攻击。
  `攻击者脚本`嵌入`被攻击网站`，获取用户cookie等隐私信息。

  `XSS` 攻击是指攻击者在网站上注入恶意的客户端代码，通过恶意脚本对客户端网页进行篡改，从而在用户浏览网页时，对用户浏览器进行控制或者获取用户隐私数据的一种攻击方式。

  XSS攻击可以分为3类：`存储型（持久型,保存到服务器）`、`反射型（非持久型，url参数）`、`基于DOM`。

  - 防御：
    1. 服务器对输入脚本进行过滤或转码
    2. 充分利用[CSP](https://developer.mozilla.org/zh-CN/docs/Web/HTTP/CSP)
    3. 使用 HttpOnly 属性

- CSRF攻击： 跨站请求伪造。
  `已登录用户`访问`攻击者网站`，攻击网站向被攻击网站发起恶意请求（利用浏览器会自动携带cookie）。

  CSRF英文全称是`Cross-site request forgery`，所以又称为“跨站请求伪造”，是指黑客引诱用户打开黑客的网站,在黑客的网站中，利用用户的登录状态发起的跨站请求。简单来讲，CSRF攻击就是黑客利用了用户的登录状态，并通过第三方的站点来做一些坏事。
  - 防御：
    1. 充分利用好Cookie的SameSite属性
    2. 验证请求的来源站点(Origin/Refer)
    3. CSRF Token

## 进程和线程了解吗，解释一下？
进程和线程是操作系统中用于管理和调度计算机资源的基本概念。它们之间的关系和区别如下：

**进程（Process）**：

进程是计算机中正在运行的程序的一个实例。它包括程序代码、当前活动、已分配的资源（如内存、文件句柄等）以及一系列独立的执行环境。每个进程都有自己的独立地址空间，互相之间是隔离的。操作系统负责管理和调度进程，确保它们可以公平、高效地共享计算机资源。

进程的主要特点包括：

1. 独立性：每个进程都有自己的独立地址空间和资源，互相之间是隔离的。
2. 动态性：进程在其生命周期内会经历创建、执行、等待、终止等多个状态。
3. 并发性：多个进程可以并发执行，共享计算机资源。
4. 结构性：进程包括程序代码、当前活动、已分配的资源等多个组成部分。

**线程（Thread）**：

线程是进程内的一个执行单元，也被称为轻量级进程。一个进程可以包含多个线程，它们共享进程的地址空间和资源，但各自拥有独立的运行栈和程序计数器。线程之间的切换和调度比进程之间的切换和调度更快、更轻量级，因此线程可以提高程序的并发性能。

线程的主要特点包括：

1. 轻量级：线程之间的切换和调度比进程之间的切换和调度更快、更轻量级。
2. 共享性：线程共享进程的地址空间和资源，可以方便地访问和修改共享数据。
3. 独立性：每个线程都有自己的独立运行栈和程序计数器，可以独立执行。

总之，进程和线程都是操作系统用于管理和调度计算机资源的基本概念。进程是程序的一个实例，拥有独立的地址空间和资源；线程是进程内的一个执行单元，共享进程的地址空间和资源，但拥有独立的运行栈和程序计数器。通过合理地使用进程和线程，可以提高程序的并发性能和资源利用率。